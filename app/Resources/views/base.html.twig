<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    {% block head %}
        <title>{% block title %}{% endblock %}</title>


        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        {% block fonts %}
            <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
            <script>
                WebFont.load({
                    google: {"families":["Poppins:300,400,500,600,700","Roboto:300,400,500,600,700"]},
                    active: function() {
                        sessionStorage.fonts = true;
                    }
                });
            </script>
        {% endblock %}

        {% block stylesheets %}
            {% block vendor %}
            {% endblock %}
            {% block base %}
                <link href="{{ asset('assets/vendors/base/vendors.bundle.css') }}" rel="stylesheet" type="text/css" />
                <link href="{{ asset('assets/crm/default/base/style.bundle.css') }}" rel="stylesheet" type="text/css" />
                <link href="{{ asset('assets/vendors/custom/datatables/datatables.bundle.css')}}" rel="stylesheet" type="text/css">
                <link href="{{ asset('assets/customcss/custom.css') }}" rel="stylesheet" type="text/css" />
            {% endblock %}
            {% block custom_css %}
            {% endblock %}
            <link rel="shortcut icon" href="{{ asset('assets/crm/default/media/img/logo/favicon.ico') }}" />
        {% endblock %}
    {% endblock %}
</head>

{% block body %}
<body class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default">

<div class="m-grid m-grid--hor m-grid--root m-page">


    {% block header %}
        {% include 'includes/header.html.twig' %}
    {% endblock %}


    <!-- begin::Body -->
    <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">
        <!-- BEGIN: Left Aside -->
        <button class="m-aside-left-close  m-aside-left-close--skin-dark " id="m_aside_left_close_btn">
            <i class="la la-close"></i>
        </button>
        <div id="m_aside_left" class="m-grid__item	m-aside-left  m-aside-left--skin-dark ">

            {% block aside %}
                {% include 'includes/aside_menu.html.twig' %}
            {% endblock %}

        </div>
        <!-- END: Left Aside -->
        <div class="m-grid__item m-grid__item--fluid m-wrapper">


            {% block subheader %}
                {% include 'includes/subheader.html.twig' with {subheader_title:block('subheader_title'), subheader_class:block('subheader_class')} %}
            {% endblock %}


            <div class="m-content">
                {% block content %}
                {% endblock %}
            </div>
        </div>
    </div>

    <!-- end:: Body -->


    {% block footer %}
        {% include 'includes/footer.html.twig' %}
    {% endblock %}


</div>
{% endblock %}


{% block quick_sidebar %}
    {% include 'includes/quick_sidebar.html.twig' %}
{% endblock %}


<div class="m-scroll-top m-scroll-top--skin-top" data-toggle="m-scroll-top" data-scroll-offset="500" data-scroll-speed="300">
    <i class="la la-arrow-up"></i>
</div>


{#{% block quicknav %}
    {% include 'backend/includes/quicknav.html.twig' %}
{% endblock %}#}

{% block generic_modals %}
    {% include('includes/generic_modal.html.twig') %}
{% endblock %}

{% block modals %}

{% endblock %}

{% block javascripts %}

    {% block base_scripts %}
        <script src="{{ asset('assets/vendors/base/vendors.bundle.js') }}" type="text/javascript"></script>
        <script src="{{ asset('assets/crm/default/base/scripts.bundle.js') }}" type="text/javascript"></script>
        <script src="{{ asset('assets/vendors/custom/datatables/datatables.bundle.js') }}" type="text/javascript"></script>
        <script src="{{ asset('assets/customjs/genericDatatableBehaviour.js') }}" type="text/javascript"></script>
    {% endblock %}

    {% block vendor_scripts %}
        <script src="{{ asset('assets/vendors/custom/fullcalendar/fullcalendar.bundle.js') }}" type="text/javascript"></script>
    {% endblock %}

    {% block page_scripts %}
        <script src="{{ asset('assets/app/js/dashboard.js') }}" type="text/javascript"></script>
    {% endblock %}

    {% block standard_scripts %}
        <script src="{{ asset('assets/customjs/genericDelete.js') }}"></script>
        <script src="{{ asset('assets/customjs/initializeWidgets.js') }}"></script>
        <script src="{{ asset('assets/customjs/genericFormSubmission.js') }}"></script>
        <script src="{{ asset('assets/customjs/generic_modal.js') }}"></script>
        <script src="{{ asset('assets/customjs/genericAjaxRequest.js') }}"></script>
        <script src="{{ asset('assets/customjs/genericAjaxRequestToastr.js') }}"></script>
        <script src="{{ asset('assets/customjs/validate_translations.js') }}"></script>
        <script src="{{ asset('assets/customjs/datatable_fix.js') }}"></script>
    {% endblock %}

{% endblock %}

<script>
    var getUrl = window.location;
    $('#m_ver_menu').find('a').each(function(t){
        if($(this).attr('href') == getUrl.pathname) {
            console.log($(this).attr('href') +  " - " + getUrl.pathname);
            $(this).parent().addClass('m-menu__item--active');
            $(this).parents('li:eq(2)').addClass('m-menu__item--open');
            $(this).parents('li:eq(1)').addClass('m-menu__item--open');
        }
    });
</script>

</body>
</html>